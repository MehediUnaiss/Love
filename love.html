<!DOCTYPE html>
<html lang="bn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>একটা বিশেষ লিংক — For My Love</title>
    <style>
      :root{
        --bg:#0b1020;
        --card:#0f1724;
        --accent:#ff3366;
        --glass: rgba(255,255,255,0.05);
        --text:#eef2ff;
      }
      html,body{height:100%;margin:0;font-family: "Segoe UI", Roboto, "Noto Sans Bengali", sans-serif;background: radial-gradient(circle at 10% 20%, #10213a 0%, var(--bg) 40%, #05060a 100%);color:var(--text);}
      .center{display:flex;align-items:center;justify-content:center;height:100%;}
      a.love-link{
        display:inline-block;padding:18px 28px;border-radius:999px;background:linear-gradient(90deg,var(--accent),#ff7aa2);color:white;text-decoration:none;font-weight:700;box-shadow:0 8px 30px rgba(255,51,102,0.18);transform:translateY(0);transition:all .18s;
      }
      a.love-link:active{transform:translateY(2px);box-shadow:0 4px 18px rgba(0,0,0,.25);}
      /* Modal */
      .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;backdrop-filter: blur(6px);}
      .modal.show{display:flex;}
      .card{
        width:95%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.18));border-radius:20px;padding:28px;box-shadow:0 20px 60px rgba(2,6,23,0.7);position:relative;overflow:hidden;
      }
      .toprow{display:flex;gap:12px;align-items:center;}
      .avatar{width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,#fff0,#fff4);border:2px solid rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent);font-size:20px;}
      .title{font-size:20px;font-weight:700;}
      .subtitle{color:rgba(255,255,255,0.72);font-size:13px;margin-top:4px;}
      .message-area{margin-top:20px;min-height:160px;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:8px 12px;}
      .typewriter{font-size:20px;line-height:1.5;white-space:pre-wrap;max-width:720px;}
      .controls{display:flex;gap:10px;justify-content:center;margin-top:18px;}
      button.btn{padding:10px 14px;border-radius:10px;border:0;background:var(--glass);color:var(--text);cursor:pointer;font-weight:600;}
      button.primary{background:linear-gradient(90deg,var(--accent),#ff7aa2);color:white;border:0;box-shadow:0 8px 30px rgba(255,51,102,0.15);}
      .close{position:absolute;14px;right:16px;top:14px;border-radius:10px;padding:8px;background:rgba(255,255,255,0.03);border:0;color:var(--text);cursor:pointer;}
      /* hearts */
      .hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden;}
      .heart{position:absolute;width:20px;height:20px;transform:translateY(0) rotate(45deg);background:var(--accent);border-radius:4px;opacity:0.9;animation:rise 6s linear infinite;box-shadow:0 6px 20px rgba(255,51,102,0.12);}
      .heart:before,.heart:after{content:"";position:absolute;background:var(--accent);width:20px;height:20px;border-radius:50%;}
      .heart:before{top:-10px;left:0;}
      .heart:after{left:-10px;top:0;}
      @keyframes rise{
        0%{transform: translateY(100vh) scale(.6) rotate(45deg);opacity:0;}
        10%{opacity:1;}
        100%{transform: translateY(-20vh) scale(1.3) rotate(45deg);opacity:0;}
      }
      footer.note{margin-top:14px;color:rgba(255,255,255,0.6);font-size:13px;text-align:center;}
      /* small */
      @media (max-width:520px){
        .typewriter{font-size:18px;}
        .avatar{width:54px;height:54px;font-size:18px;}
      }
    </style>
  </head>
  <body>
    <div class="center" style="flex-direction: column; gap: 18px">
      <a class="love-link" id="openBtn" href="#" aria-label="Open love message"
        >Just for you Jannat (Click here ❤️)</a
      >
      <div
        style="
          color: rgba(255, 255, 255, 0.6);
          font-size: 13px;
          text-align: center;
          max-width: 560px;
        "
      >
        এই লিংকটি চাপলে তোমার জন্য আমি লিখে রাখা মিষ্টি কথাগুলো দেখাবে।
      </div>
    </div>

    <!-- Modal -->
    <div
      id="modal"
      class="modal"
      role="dialog"
      aria-modal="true"
      aria-hidden="true"
    >
      <div class="card" role="document">
        <button id="closeBtn" class="close" title="Close">&times;</button>
        <div class="toprow">
          <div class="avatar">J♡</div>
          <div>
            <div class="title">Tumi amar sob</div>
            <div class="subtitle">This is for you — তোমার জন্য</div>
          </div>
        </div>

        <div class="message-area">
          <div id="type" class="typewriter"></div>
          <div class="controls">
            <button id="prev" class="btn">আগে (Prev)</button>
            <button id="next" class="btn">পরে (Next)</button>
          </div>
          <div class="note" style="margin-top: 14px">
            Love You So Much Jannat
          </div>
        </div>

        <div class="hearts" id="heartsContainer"></div>
      </div>
    </div>

    <!-- Optional audio: replace src with your file or remove element if you don't want music -->
    <audio id="romanceAudio" loop>
      <source
        src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_6b5d9be9b8.mp3?filename=sweet-love-ambient-110130.mp3"
        type="audio/mpeg"
      />
      <!-- If you want to use a local file, replace the src with "my-music.mp3" and upload that file to same folder -->
    </audio>

    <script>
      // --- Messages to show (customize these) ---
      const messages = [
        "তুমি আমার জীবনের সেই দোয়া,\n যা আমি প্রতিদিন না চেয়েও আল্লাহ আমার জীবনে লিখে দিয়েছেন।\n",
        "তোমার ভালোবাসা আমার হৃদয়ের সেই আলো, \n যা অন্ধকার সময়েও পথ দেখায়।\n",
        "তোমাকে ছাড়া আমার পৃথিবী নিঃশব্দ, \n যেন আকাশ আছে কিন্তু তারা নেই।\n",
        "প্রতিটা নিঃশ্বাসে তোমার নাম,\n প্রতিটা দোয়ায় তোমার সুখের কামনা।\n",
        "তুমি শুধু আমার স্ত্রী নও,\n তুমি আমার শান্তি, আমার ঘর, আর আমার চিরকাল।\n",
      ];

      // Typewriter function
      const typeEl = document.getElementById("type");
      let idx = 0;
      let charIdx = 0;
      let typing = false;
      let currentTimeout;

      function typeMessage(i) {
        clearTimeout(currentTimeout);
        typing = true;
        typeEl.textContent = "";
        const text = messages[i];
        charIdx = 0;
        const speed = 28; // ms per char (adjust)
        function step() {
          // show upto charIdx
          typeEl.textContent = text.slice(0, charIdx);
          charIdx++;
          if (charIdx <= text.length) {
            currentTimeout = setTimeout(step, speed + Math.random() * 30);
          } else {
            typing = false;
          }
        }
        step();
      }

      // Modal open/close and controls
      const openBtn = document.getElementById("openBtn");
      const modal = document.getElementById("modal");
      const closeBtn = document.getElementById("closeBtn");
      const prevBtn = document.getElementById("prev");
      const nextBtn = document.getElementById("next");
      const playMusicBtn = document.getElementById("playMusic");
      const audio = document.getElementById("romanceAudio");

      function showModal() {
        modal.classList.add("show");
        modal.setAttribute("aria-hidden", "false");
        typeMessage(idx);
        startHearts();
        // don't autoplay audio without user intent — only set prepared
      }
      function hideModal() {
        modal.classList.remove("show");
        modal.setAttribute("aria-hidden", "true");
        stopHearts();
        if (!audio.paused) audio.pause();
      }

      openBtn.addEventListener("click", (e) => {
        e.preventDefault();
        showModal();
      });
      closeBtn.addEventListener("click", hideModal);
      modal.addEventListener("click", (e) => {
        if (e.target === modal) hideModal();
      });

      prevBtn.addEventListener("click", () => {
        if (typing) return;
        idx = (idx - 1 + messages.length) % messages.length;
        typeMessage(idx);
      });
      nextBtn.addEventListener("click", () => {
        if (typing) return;
        idx = (idx + 1) % messages.length;
        typeMessage(idx);
      });

      playMusicBtn.addEventListener("click", () => {
        if (audio.paused) {
          audio.play().catch(() => {
            /* autoplay blocked; user interaction done so likely ok */
          });
          playMusicBtn.textContent = "স্টপ / Stop";
        } else {
          audio.pause();
          playMusicBtn.textContent = "মিউজিক চালাও / Play";
        }
      });

      // Hearts generator
      const heartsContainer = document.getElementById("heartsContainer");
      let heartsInterval;
      function rand(min, max) {
        return Math.random() * (max - min) + min;
      }
      function makeHeart() {
        const h = document.createElement("div");
        h.className = "heart";
        h.style.left = rand(5, 95) + "%";
        const size = rand(12, 36);
        h.style.width = size + "px";
        h.style.height = size + "px";
        h.style.opacity = rand(0.6, 1);
        h.style.animationDuration = rand(4, 8) + "s";
        heartsContainer.appendChild(h);
        // remove after animation
        setTimeout(() => h.remove(), 9000);
      }
      function startHearts() {
        heartsInterval = setInterval(makeHeart, 600);
      }
      function stopHearts() {
        clearInterval(heartsInterval);
        heartsContainer.innerHTML = "";
      }

      // Accessibility: allow arrow keys for next/prev, Esc to close
      document.addEventListener("keydown", (e) => {
        if (modal.classList.contains("show")) {
          if (e.key === "ArrowRight") {
            nextBtn.click();
          }
          if (e.key === "ArrowLeft") {
            prevBtn.click();
          }
          if (e.key === "Escape") {
            hideModal();
          }
        }
      });

      // Initialize first message for when modal opens
      // (Will be typed on open.)
    </script>
  </body>
</html>
